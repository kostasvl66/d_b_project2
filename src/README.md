# Υλοποίηση των BPlus συναρτήσεων

Η **bplus_find_record** χρησιμοποιείται για την εύρεση κάποιας εγγραφής στο Β+-Δέντρο, με βάση το κλειδί του.

Τα ορίσματα που λαμβάνει είναι τα εξής:
- **file_desc**: Ο περιγραφέας του **B+-Tree** αρχείου στο οποίο θα εφαρμοστεί αναζήτηση.
- **metadata**: Τα μεταδεδομένα του συγκεκριμένου B+-Δέντρου.
- **key**: Το κλειδί της εγγραφής προς αναζήτηση.
- **out_record**: Δείκτης που οδηγεί σε έναν άλλο δείκτη, ο οποίος με την σειρά του οδηγεί στην **διεύθυνση** της αναζητούμενης εγγραφής στην μνήμη. Η συνάρτηση τον θέτει κατάλληλα ώστε να οδηγεί στην εγγραφή που θα βρεθεί (ή τον θέτει ως NULL εάν δεν βρεθεί).

Υλοποίηση:
- Λαμβάνει τα μεταδεδομένα του B+-Tree αρχείου από το Block 0, και τα αποθηκεύει στον δείκτη "**tree_info**". Δεν χρησιμοποιεί τα μεταδεδομένα που δίνονται μέσω του δείκτη "**metadata**", καθώς εκεί περιέχεται ένα **αντίγραφο** του Block 0, αντί για την **διεύθυνση** του Block 0 στην μνήμη.
- Λαμβάνει το Block Index του Block που αποτελεί την ρίζα του Β+-Δέντρου, μέσα από τα μεταδεδομένα που **παραλήφθηκαν προηγουμένως**.
- Χρησιμοποιεί την βοηθητική συνάρτηση "**tree_search_data_block**", η οποία αποθηκεύει στον δείκτη "**res_block**" την **διεύθυνση** του **Block** δεδομένων στο οποίο πρέπει να βρίσκεται η εγγραφή με το επιθυμητό κλειδί. Επιπλέον, λαμβάνει τα μεταδεδομένα αυτού του Block, μέσω της βοηθητικής συνάρτησης "**data_block_read_header**". Πιο συγκεκριμένα, διαβάζει από τα μεταδεδομένα τον αριθμό εγγραφών που έχουν αποθηκευτεί στο αντίστοιχο Block.
- Τρέχει έναν βρόχο **`for`** **από** το 0 **έως** τον αριθμό των αποθηκευμένων εγγραφών, ο οποίος:
	- Λαμβάνει κάθε εγγραφή αποθηκευμένη στο Block, ελέγχει αν το κλειδί της εγγραφής ταιριάζει με το κλειδί που ψάχνουμε, και αν ναι, θέτει τον δείκτη "**out_record**" ώστε να οδηγεί στην συγκεκριμένη εγγραφή. Εκεί τερματίζει η συνάρτηση επιστρέφοντας την τιμή "**0**", εφόσον έχει πετύχει η εύρεση της αναζητούμενης εγγραφής.
	- Στο τέλος κάθε επανάληψης, ο δείκτης "**rec**", που οδηγεί σε κάθε εγγραφή που ελέγχουμε, πρέπει να εκκαθαριστεί με **`free`** ώστε να μην παραμείνουν δεσμευμένα κομμάτια μνήμης τα οποία δεν χρησιμοποιούνται.
- Τέλος, εάν η συνάρτηση δεν έχει επιστρέψει με τιμή "**0**" μέσω του βρόχου **`for`**, τότε επιστρέφει με τιμή "**-1**", καθώς δεν έχει βρεθεί εγγραφή που να αντιστοιχεί στο κλειδί προς αναζήτηση.
